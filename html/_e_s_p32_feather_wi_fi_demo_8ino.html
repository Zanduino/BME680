<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BME680: examples/ESP32FeatherWiFiDemo/ESP32FeatherWiFiDemo.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BME680
   &#160;<span id="projectnumber">Version 1.0.9</span>
   </div>
   <div id="projectbrief">Arduino Library for the Bosch BME680 Temperature, Humidity, Pressure and Gas sensor</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_e_s_p32_feather_wi_fi_demo_8ino.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ESP32FeatherWiFiDemo.ino File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;SD.h&gt;</code><br />
<code>#include &lt;SPI.h&gt;</code><br />
<code>#include &lt;WebServer.h&gt;</code><br />
<code>#include &lt;WiFi.h&gt;</code><br />
<code>#include &lt;WiFiClient.h&gt;</code><br />
<code>#include &quot;WebPageContents.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a48f3f185be3ea2d153c347a157b38d42"><td class="memItemLeft" align="right" valign="top"><a id="a48f3f185be3ea2d153c347a157b38d42"></a>
WebServer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a48f3f185be3ea2d153c347a157b38d42">server</a> (80)</td></tr>
<tr class="memdesc:a48f3f185be3ea2d153c347a157b38d42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiate a web server on port 80. <br /></td></tr>
<tr class="separator:a48f3f185be3ea2d153c347a157b38d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8427468f39342a1990703e9f5ce7fd29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a8427468f39342a1990703e9f5ce7fd29">handleRoot</a> ()</td></tr>
<tr class="separator:a8427468f39342a1990703e9f5ce7fd29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad40cbb4c74c580139b681ed6ad4eb85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#aad40cbb4c74c580139b681ed6ad4eb85">handleADC</a> ()</td></tr>
<tr class="separator:aad40cbb4c74c580139b681ed6ad4eb85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1cef0304194a18962c7b6b409f99c7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#ac1cef0304194a18962c7b6b409f99c7c">getSensorData</a> ()</td></tr>
<tr class="separator:ac1cef0304194a18962c7b6b409f99c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3759f27c4ea5a76e7b642613fc366bf5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a3759f27c4ea5a76e7b642613fc366bf5">FILE_NAME</a> = &quot;/BME_680.csv&quot;</td></tr>
<tr class="memdesc:a3759f27c4ea5a76e7b642613fc366bf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt; WiFi Client library  <a href="#a3759f27c4ea5a76e7b642613fc366bf5">More...</a><br /></td></tr>
<tr class="separator:a3759f27c4ea5a76e7b642613fc366bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4fbed25c9d82b26a56813f4892022d8"><td class="memItemLeft" align="right" valign="top"><a id="ac4fbed25c9d82b26a56813f4892022d8"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#ac4fbed25c9d82b26a56813f4892022d8">HOSTNAME</a> = &quot;BME680&quot;</td></tr>
<tr class="memdesc:ac4fbed25c9d82b26a56813f4892022d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give the device a name. <br /></td></tr>
<tr class="separator:ac4fbed25c9d82b26a56813f4892022d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a586c86c64e7d30517aeee0fe47a25ae4"><td class="memItemLeft" align="right" valign="top"><a id="a586c86c64e7d30517aeee0fe47a25ae4"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a586c86c64e7d30517aeee0fe47a25ae4">WIFI_SSID</a> = &quot;NetworkSSID&quot;</td></tr>
<tr class="memdesc:a586c86c64e7d30517aeee0fe47a25ae4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Network SSID for connection. <br /></td></tr>
<tr class="separator:a586c86c64e7d30517aeee0fe47a25ae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a148a1777c915283bcb3f4bf32233e16b"><td class="memItemLeft" align="right" valign="top"><a id="a148a1777c915283bcb3f4bf32233e16b"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a148a1777c915283bcb3f4bf32233e16b">WIFI_PASSWORD</a> = &quot;Password&quot;</td></tr>
<tr class="memdesc:a148a1777c915283bcb3f4bf32233e16b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Network authentication code. <br /></td></tr>
<tr class="separator:a148a1777c915283bcb3f4bf32233e16b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc8430dea1bce949f10d9708742cca34"><td class="memItemLeft" align="right" valign="top"><a id="adc8430dea1bce949f10d9708742cca34"></a>
const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#adc8430dea1bce949f10d9708742cca34">SERIAL_SPEED</a> = 115200</td></tr>
<tr class="memdesc:adc8430dea1bce949f10d9708742cca34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the baud rate for Serial I/O. <br /></td></tr>
<tr class="separator:adc8430dea1bce949f10d9708742cca34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54787a0d394df901895f3fa1344d4754"><td class="memItemLeft" align="right" valign="top"><a id="a54787a0d394df901895f3fa1344d4754"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a54787a0d394df901895f3fa1344d4754">POWER_PIN</a> = A13</td></tr>
<tr class="memdesc:a54787a0d394df901895f3fa1344d4754"><td class="mdescLeft">&#160;</td><td class="mdescRight">Supply voltage through a divider. <br /></td></tr>
<tr class="separator:a54787a0d394df901895f3fa1344d4754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5046d5397ff8775579ff977503a3d07d"><td class="memItemLeft" align="right" valign="top"><a id="a5046d5397ff8775579ff977503a3d07d"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a5046d5397ff8775579ff977503a3d07d">LED_PIN</a> = 13</td></tr>
<tr class="memdesc:a5046d5397ff8775579ff977503a3d07d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This pin is the on-board red LED. <br /></td></tr>
<tr class="separator:a5046d5397ff8775579ff977503a3d07d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ca07df7dc31b49c31f1c94b26ad25c"><td class="memItemLeft" align="right" valign="top"><a id="a85ca07df7dc31b49c31f1c94b26ad25c"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a85ca07df7dc31b49c31f1c94b26ad25c">SD_CARD_SPI_CS_PIN</a> = 21</td></tr>
<tr class="memdesc:a85ca07df7dc31b49c31f1c94b26ad25c"><td class="mdescLeft">&#160;</td><td class="mdescRight">(general GPIO) on ESP32 for chip select <br /></td></tr>
<tr class="separator:a85ca07df7dc31b49c31f1c94b26ad25c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72212ee3f1de5d7697d92de244d17def"><td class="memItemLeft" align="right" valign="top"><a id="a72212ee3f1de5d7697d92de244d17def"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a72212ee3f1de5d7697d92de244d17def">SD_CARD_SPI_CD_PIN</a> = A5</td></tr>
<tr class="memdesc:a72212ee3f1de5d7697d92de244d17def"><td class="mdescLeft">&#160;</td><td class="mdescRight">(general GPIO) on ESP32 for carrier detect <br /></td></tr>
<tr class="separator:a72212ee3f1de5d7697d92de244d17def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8e493b161e62fc1da4241514f934a8a"><td class="memItemLeft" align="right" valign="top"><a id="ab8e493b161e62fc1da4241514f934a8a"></a>
const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#ab8e493b161e62fc1da4241514f934a8a">SD_LOG_INTERVAL</a> = 1000</td></tr>
<tr class="memdesc:ab8e493b161e62fc1da4241514f934a8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Milliseconds between writes to SD-Card. <br /></td></tr>
<tr class="separator:ab8e493b161e62fc1da4241514f934a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5377ccc1c55e0b844a354b5147252d9"><td class="memItemLeft" align="right" valign="top"><a id="ad5377ccc1c55e0b844a354b5147252d9"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#ad5377ccc1c55e0b844a354b5147252d9">SD_FLUSH_INTERVAL</a> = 60</td></tr>
<tr class="memdesc:ad5377ccc1c55e0b844a354b5147252d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">do a "flush" after this number of writes <br /></td></tr>
<tr class="separator:ad5377ccc1c55e0b844a354b5147252d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061c86111a5a12474b5dc5ed72a349b3"><td class="memItemLeft" align="right" valign="top"><a id="a061c86111a5a12474b5dc5ed72a349b3"></a>
const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a061c86111a5a12474b5dc5ed72a349b3">SEA_LEVEL_PRESSURE</a> = 1013.25</td></tr>
<tr class="memdesc:a061c86111a5a12474b5dc5ed72a349b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard atmosphere sea level pressure. <br /></td></tr>
<tr class="separator:a061c86111a5a12474b5dc5ed72a349b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5063630ccead4138f04d3c1bc67c9a39"><td class="memItemLeft" align="right" valign="top"><a id="a5063630ccead4138f04d3c1bc67c9a39"></a>
<a class="el" href="class_b_m_e680___class.html">BME680_Class</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a5063630ccead4138f04d3c1bc67c9a39">BME680</a></td></tr>
<tr class="memdesc:a5063630ccead4138f04d3c1bc67c9a39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an instance of the BME680 class. <br /></td></tr>
<tr class="separator:a5063630ccead4138f04d3c1bc67c9a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38e756be89c7fc3aa589a64f8d8eb2ad"><td class="memItemLeft" align="right" valign="top"><a id="a38e756be89c7fc3aa589a64f8d8eb2ad"></a>
File&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a38e756be89c7fc3aa589a64f8d8eb2ad">dataFile</a></td></tr>
<tr class="memdesc:a38e756be89c7fc3aa589a64f8d8eb2ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class for a SD-Card file. <br /></td></tr>
<tr class="separator:a38e756be89c7fc3aa589a64f8d8eb2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015ae21dbf3e9d5aa583088391fd61ee"><td class="memItemLeft" align="right" valign="top"><a id="a015ae21dbf3e9d5aa583088391fd61ee"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a015ae21dbf3e9d5aa583088391fd61ee">temperature</a></td></tr>
<tr class="memdesc:a015ae21dbf3e9d5aa583088391fd61ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">BME680 temperature value. <br /></td></tr>
<tr class="separator:a015ae21dbf3e9d5aa583088391fd61ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc8b9a805a3f68eaeaefbf53a2e0664"><td class="memItemLeft" align="right" valign="top"><a id="a8dc8b9a805a3f68eaeaefbf53a2e0664"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a8dc8b9a805a3f68eaeaefbf53a2e0664">humidity</a></td></tr>
<tr class="memdesc:a8dc8b9a805a3f68eaeaefbf53a2e0664"><td class="mdescLeft">&#160;</td><td class="mdescRight">BME680 humidity value. <br /></td></tr>
<tr class="separator:a8dc8b9a805a3f68eaeaefbf53a2e0664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ad120afa713a54244728bc253803b6"><td class="memItemLeft" align="right" valign="top"><a id="af8ad120afa713a54244728bc253803b6"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#af8ad120afa713a54244728bc253803b6">pressure</a></td></tr>
<tr class="memdesc:af8ad120afa713a54244728bc253803b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">BME680 pressure value. <br /></td></tr>
<tr class="separator:af8ad120afa713a54244728bc253803b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8bfe519bbd9438e4fa08dd20a8d150"><td class="memItemLeft" align="right" valign="top"><a id="aef8bfe519bbd9438e4fa08dd20a8d150"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#aef8bfe519bbd9438e4fa08dd20a8d150">gas</a></td></tr>
<tr class="memdesc:aef8bfe519bbd9438e4fa08dd20a8d150"><td class="mdescLeft">&#160;</td><td class="mdescRight">BME680 gas resistance value. <br /></td></tr>
<tr class="separator:aef8bfe519bbd9438e4fa08dd20a8d150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd5c2b1b64ee9f648d1141e23dc28e0d"><td class="memItemLeft" align="right" valign="top"><a id="afd5c2b1b64ee9f648d1141e23dc28e0d"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#afd5c2b1b64ee9f648d1141e23dc28e0d">start_pressure</a></td></tr>
<tr class="memdesc:afd5c2b1b64ee9f648d1141e23dc28e0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial pressure reading. <br /></td></tr>
<tr class="separator:afd5c2b1b64ee9f648d1141e23dc28e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf640c0785f34d6dc04b4484a7ecddb7"><td class="memItemLeft" align="right" valign="top"><a id="abf640c0785f34d6dc04b4484a7ecddb7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#abf640c0785f34d6dc04b4484a7ecddb7">sd_card_present</a> = false</td></tr>
<tr class="memdesc:abf640c0785f34d6dc04b4484a7ecddb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch set when SD-Card detected. <br /></td></tr>
<tr class="separator:abf640c0785f34d6dc04b4484a7ecddb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2625820b72581d5ab12b96a0239820"><td class="memItemLeft" align="right" valign="top"><a id="a0e2625820b72581d5ab12b96a0239820"></a>
String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a0e2625820b72581d5ab12b96a0239820">jsonData</a></td></tr>
<tr class="memdesc:a0e2625820b72581d5ab12b96a0239820"><td class="mdescLeft">&#160;</td><td class="mdescRight">JSON data string. <br /></td></tr>
<tr class="separator:a0e2625820b72581d5ab12b96a0239820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89199aa2db6f8b251f165107a2398da9"><td class="memItemLeft" align="right" valign="top"><a id="a89199aa2db6f8b251f165107a2398da9"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html#a89199aa2db6f8b251f165107a2398da9">loopCounter</a> = 0</td></tr>
<tr class="memdesc:a89199aa2db6f8b251f165107a2398da9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for number of write operations since startup. <br /></td></tr>
<tr class="separator:a89199aa2db6f8b251f165107a2398da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="ESP32FeatherWiFiDemo_intro_section"></a>
Description</h1>
<p>Example program for using an Arduino ESP32 based system (this sketch was developed and tested on a ESP32 Huzzah32 Feather board from <a href="https://www.adafruit.com/product/3405">https://www.adafruit.com/product/3405</a>) along with a BME680 connected via I2C to monitor the temperature, pressure and humidity and report the values in a dynamic chart on a web page hosted by the ESP32 and connected to a local network.</p>
<p>Prior to compiling the program, the contents of the include file "Authentication.h" need to be updated to reflect the local WiFi network to use and the corresponding authentication code.</p>
<p>Once started, the IP-Address is set by the WiFi router and displayed on the serial output of the ESP32, this IP address should then be entered as the URL in a web browser of a computer attached to the same network and the data should be presented there, updated every 10 seconds.</p>
<p>The Bosch BME680 sensor measures temperature, pressure, humidity and air quality and is described at <a href="https://www.bosch-sensortec.com/bst/products/all_products/BME680">https://www.bosch-sensortec.com/bst/products/all_products/BME680</a>. The datasheet is available from Bosch at <a href="https://ae-bst.resource.bosch.com/media/_tech/media/datasheets/BST-BME680_DS001-11.pdf">https://ae-bst.resource.bosch.com/media/_tech/media/datasheets/BST-BME680_DS001-11.pdf</a> <br />
<br />
 The most recent version of the BME680 library is available at <a href="https://github.com/SV-Zanshin/BME680">https://github.com/SV-Zanshin/BME680</a> and the documentation of the library as well as example programs are described in the project's wiki pages located at <a href="https://github.com/SV-Zanshin/BME680/wiki">https://github.com/SV-Zanshin/BME680/wiki</a>. <br />
<br />
 The BME680 is an extremely small physical package that is so tiny as to be impossible to solder at home, hence it will be used as part of a third-party breakout board. There are several such boards </p><table class="doxtable">
<tr>
<th>available at this time, for example <br />
 Company </th><th>Link  </th></tr>
<tr>
<td>Sparkfun </td><td><a href="https://www.sparkfun.com/products/14570">https://www.sparkfun.com/products/14570</a> </td></tr>
<tr>
<td>BlueDot </td><td><a href="https://www.bluedot.space/sensor-boards/bme680/">https://www.bluedot.space/sensor-boards/bme680/</a> </td></tr>
</table>
<p>Adafruit | <a href="https://learn.adafruit.com/adafruit-BME680-humidity-barometric-pressure-temperature-sensor-breakout">https://learn.adafruit.com/adafruit-BME680-humidity-barometric-pressure-temperature-sensor-breakout</a> <br />
<br />
 Bosch supplies sample software that runs on various platforms, including the Arduino family; this can be downloaed at <a href="https://github.com/BoschSensortec/BSEC-Arduino-library">https://github.com/BoschSensortec/BSEC-Arduino-library</a> . This software is part of the Bosch "BSEC" (Bosch Sensortec Environmental Cluster) framework and somewhat bulky and unwieldy for typical Arduino applications, hence the choice to make a more compact and rather less abstract library.</p>
<p>The pressure reading needs to be adjusted for altitude to get the adjusted pressure reading. There are numerous sources on the internet for formulae converting from standard sea-level pressure to altitude, see the data sheet for the BME180 on page 16 of <a href="http://www.adafruit.com/datasheets/BST-BMP180-DS000-09.pdf">http://www.adafruit.com/datasheets/BST-BMP180-DS000-09.pdf</a>. Rather than put a floating-point function in the library which may not be used but which would use space, an example altitude computation function has been added to this example program to show how it might be done.</p>
<h1><a class="anchor" id="ESP32FeatherWiFiDemolicense"></a>
License</h1>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<h1><a class="anchor" id="ESP32FeatherWiFiDemoauthor"></a>
Author</h1>
<p>Written by <a href="https://github.com/SV-Zanshin">https://github.com/SV-Zanshin</a></p>
<h1><a class="anchor" id="ESP32FeatherWiFiDemoversions"></a>
Changelog</h1>
<table class="doxtable">
<tr>
<th>Version </th><th>Date </th><th>Developer </th><th>Comments  </th></tr>
<tr>
<td>1.0.1 </td><td>2020-07-04 </td><td>SV-Zanshin </td><td>Issue #25 - implement clang-formatting </td></tr>
<tr>
<td>1.0.0 </td><td>2020-06-02 </td><td>SV-Zanshin </td><td>Ready to commit and publish as Issue #20 </td></tr>
<tr>
<td>1.0.0b </td><td>2020-05-30 </td><td>SV-Zanshin </td><td>Initial coding </td></tr>
</table>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac1cef0304194a18962c7b6b409f99c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1cef0304194a18962c7b6b409f99c7c">&#9670;&nbsp;</a></span>getSensorData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getSensorData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to read the BME680 data and optionally write it to the SD-Card</p>
<p>The BME680 data is read in and if an SD-Card is present the values are written to it. The "jsonData" string is also put together here so that a client request can immediately send the current data. This is done because the frequency with which the data is written to the SD-Card is higher than that of the web page refresh. </p><dl class="section return"><dt>Returns</dt><dd>void</dd></dl>

</div>
</div>
<a id="aad40cbb4c74c580139b681ed6ad4eb85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad40cbb4c74c580139b681ed6ad4eb85">&#9670;&nbsp;</a></span>handleADC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleADC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when a "readADC"" request is sent from a browser client</p>
<p>When the browser client sends a GET request for a "readADC" this ISR is called, which then returns the current value in the jsonData string, which is continuously updated in the main loop </p><dl class="section return"><dt>Returns</dt><dd>void</dd></dl>

</div>
</div>
<a id="a8427468f39342a1990703e9f5ce7fd29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8427468f39342a1990703e9f5ce7fd29">&#9670;&nbsp;</a></span>handleRoot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleRoot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when a request is sent from a browser client</p>
<p>When the ESP32 gets an IP address and that address is entered in a browser then this ISR get called to handle that request. The response is to send the HTML page which is contained in the variable "MAIN_page" which is set in the "WebPageContents.h" file </p><dl class="section return"><dt>Returns</dt><dd>void</dd></dl>

</div>
</div>
<a id="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Arduino method for the main program loop</p>
<p>This is the main program for the Arduino IDE, it is an infinite loop and keeps on repeating. The timed measurements from the BME680 are handled here, while the actual web page serving and responses are handled by the ISRs "handleADC()" and "handleRoot()" </p><dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>&lt; Millis() value for next SD-Card write time </p>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Arduino method called once at startup to initialize the system</p>
<p>This is an Arduino IDE method which is called first upon boot or restart. It is only called one time and then control goes to the main "loop()" method, from which control never returns. The BME680, then the SD-Card (if present, if not present then it is ignored), then the Wi-Fi connection are initialized and configured here. </p><dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>&lt; countdown to 0 to detect card </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3759f27c4ea5a76e7b642613fc366bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3759f27c4ea5a76e7b642613fc366bf5">&#9670;&nbsp;</a></span>FILE_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* FILE_NAME = &quot;/BME_680.csv&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt; WiFi Client library </p>
<p>&lt; Include the SD Card standard library &lt; Include the SPI standard library &lt; WiFi Web Server library &lt; ESP32 WiFi LibraryFilename on SD-Card </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="dir_e4d7a6990b34b3f6c57af97da2e4e515.html">ESP32FeatherWiFiDemo</a></li><li class="navelem"><a class="el" href="_e_s_p32_feather_wi_fi_demo_8ino.html">ESP32FeatherWiFiDemo.ino</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
