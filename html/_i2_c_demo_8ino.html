<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BME680: examples/I2CDemo/I2CDemo.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BME680
   &#160;<span id="projectnumber">Version 1.0.6</span>
   </div>
   <div id="projectbrief">Arduino Library for the Bosch BME680 Temperature, Humidity, Pressure and Gas sensor</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_i2_c_demo_8ino.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">I2CDemo.ino File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_zanshin___b_m_e680_8h_source.html">Zanshin_BME680.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1beda5a9dd994d2856e8233d2acba63c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_c_demo_8ino.html#a1beda5a9dd994d2856e8233d2acba63c">altitude</a> (const int32_t press, const float seaLevel=1013.25)</td></tr>
<tr class="memdesc:a1beda5a9dd994d2856e8233d2acba63c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward function declaration with default value for sea level.  <a href="#a1beda5a9dd994d2856e8233d2acba63c">More...</a><br /></td></tr>
<tr class="separator:a1beda5a9dd994d2856e8233d2acba63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_c_demo_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_c_demo_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adc8430dea1bce949f10d9708742cca34"><td class="memItemLeft" align="right" valign="top"><a id="adc8430dea1bce949f10d9708742cca34"></a>
const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_c_demo_8ino.html#adc8430dea1bce949f10d9708742cca34">SERIAL_SPEED</a> = 115200</td></tr>
<tr class="memdesc:adc8430dea1bce949f10d9708742cca34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the baud rate for Serial I/O. <br /></td></tr>
<tr class="separator:adc8430dea1bce949f10d9708742cca34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5063630ccead4138f04d3c1bc67c9a39"><td class="memItemLeft" align="right" valign="top"><a id="a5063630ccead4138f04d3c1bc67c9a39"></a>
<a class="el" href="class_b_m_e680___class.html">BME680_Class</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_c_demo_8ino.html#a5063630ccead4138f04d3c1bc67c9a39">BME680</a></td></tr>
<tr class="memdesc:a5063630ccead4138f04d3c1bc67c9a39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an instance of the BME680 class. <br /></td></tr>
<tr class="separator:a5063630ccead4138f04d3c1bc67c9a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="I2CDemo_intro_section"></a>
Description</h1>
<p>Example program for using I2C to set and read the Bosch BME680 sensor. The sensor measures temperature, pressure and humidity and is described at <a href="https://www.bosch-sensortec.com/bst/products/all_products/BME680">https://www.bosch-sensortec.com/bst/products/all_products/BME680</a>. The datasheet is available from Bosch at <a href="https://ae-bst.resource.bosch.com/media/_tech/media/datasheets/BST-BME680_DS001-11.pdf">https://ae-bst.resource.bosch.com/media/_tech/media/datasheets/BST-BME680_DS001-11.pdf</a> <br />
<br />
 The most recent version of the BME680 library is available at <a href="https://github.com/SV-Zanshin/BME680">https://github.com/SV-Zanshin/BME680</a> and the documentation of the library as well as example programs are described in the project's wiki pages located at <a href="https://github.com/SV-Zanshin/BME680/wiki">https://github.com/SV-Zanshin/BME680/wiki</a>. <br />
<br />
 The BME680 is an extremely small physical package that is so tiny as to be impossible to solder at home, hence it will be used as part of a third-party breakout board. There are several such boards available at this time, for example <br />
</p><table class="doxtable">
<tr>
<th>Company </th><th>Link  </th></tr>
<tr>
<td>Sparkfun </td><td><a href="https://www.sparkfun.com/products/14570">https://www.sparkfun.com/products/14570</a> </td></tr>
<tr>
<td>BlueDot </td><td><a href="https://www.bluedot.space/sensor-boards/bme680/">https://www.bluedot.space/sensor-boards/bme680/</a> </td></tr>
<tr>
<td>Adafruit </td><td><a href="https://learn.adafruit.com/adafruit-BME680-humidity-barometric-pressure-temperature-sensor-breakout">https://learn.adafruit.com/adafruit-BME680-humidity-barometric-pressure-temperature-sensor-breakout</a> <br />
<br />
</td></tr>
</table>
<p>Bosch supplies sample software that runs on various platforms, including the Arduino family; this can be downloaed at <a href="https://github.com/BoschSensortec/BSEC-Arduino-library">https://github.com/BoschSensortec/BSEC-Arduino-library</a> . This software is part of the Bosch "BSEC" (Bosch Sensortec Environmental Cluster) framework and somewhat bulky and unwieldy for typical Arduino applications, hence the choice to make a more compact and rather less abstract library.</p>
<p>This example program initializes the BME680 to use I2C for communications. The library does not using floating point numbers to save on memory space and computation time. The values for Temperature, Pressure and Humidity are returned in deci-units, e.g. a Temperature reading of "2731" means "27.31" degrees Celsius. The display in the example program uses floating point for demonstration purposes only. Note that the temperature reading is generally higher than the ambient temperature due to die and PCB temperature and self-heating of the element.<br />
<br />
 The pressure reading needs to be adjusted for altitude to get the adjusted pressure reading. There are numerous sources on the internet for formulae converting from standard sea-level pressure to altitude, see the data sheet for the BME180 on page 16 of <a href="http://www.adafruit.com/datasheets/BST-BMP180-DS000-09.pdf">http://www.adafruit.com/datasheets/BST-BMP180-DS000-09.pdf</a>. Rather than put a floating-point function in the library which may not be used but which would use space, an example altitude computation function has been added to this example program to show how it might be done.</p>
<h1><a class="anchor" id="I2CDemolicense"></a>
License</h1>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<h1><a class="anchor" id="I2CDemoauthor"></a>
Author</h1>
<p>Written by Arnd@SV-Zanshin</p>
<h1><a class="anchor" id="I2CDemoversions"></a>
Changelog</h1>
<table class="doxtable">
<tr>
<th>Version </th><th>Date </th><th>Developer </th><th>Comments  </th></tr>
<tr>
<td>1.0.2 </td><td>2020-05-09 </td><td><a href="https://github.com/SV-Zanshin">https://github.com/SV-Zanshin</a> </td><td>Issue #8 - clean up comments and code </td></tr>
<tr>
<td>1.0.1 </td><td>2019-01-30 </td><td><a href="https://github.com/SV-Zanshin">https://github.com/SV-Zanshin</a> </td><td>Removed old comments </td></tr>
<tr>
<td>1.0.1 </td><td>2019-01-26 </td><td><a href="https://github.com/SV-Zanshin">https://github.com/SV-Zanshin</a> </td><td>Issue #3 - convert documentation to Doxygen </td></tr>
<tr>
<td>1.0.0b </td><td>2018-06-30 </td><td><a href="https://github.com/SV-Zanshin">https://github.com/SV-Zanshin</a> </td><td>Cloned from original BME280 program </td></tr>
</table>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1beda5a9dd994d2856e8233d2acba63c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1beda5a9dd994d2856e8233d2acba63c">&#9670;&nbsp;</a></span>altitude()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float altitude </td>
          <td>(</td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>press</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>seaLevel</em> = <code>1013.25</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forward function declaration with default value for sea level. </p>
<p>This converts a pressure measurement into a height in meters</p>
<p>The corrected sea-level pressure can be passed into the function if it is know, otherwise the standard atmospheric pressure of 1013.25hPa is used (see <a href="https://en.wikipedia.org/wiki/Atmospheric_pressure">https://en.wikipedia.org/wiki/Atmospheric_pressure</a>) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">press</td><td>Pressure reading from BME680 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seaLevel</td><td>Sea-Level pressure in millibars </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>floating point altitude in meters.</dd></dl>

</div>
</div>
<a id="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Arduino method for the main program loop</p>
<p>This is the main program for the Arduino IDE, it is an infinite loop and keeps on repeating. The "sprintf()" function is to pretty-print the values, since floating point is not supported on the Arduino, split the values into those before and those after the decimal point. </p><dl class="section return"><dt>Returns</dt><dd>void</dd></dl>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Arduino method called once at startup to initialize the system</p>
<p>This is an Arduino IDE method which is called first upon boot or restart. It is only called one time and then control goes to the main "loop()" method, from which control never returns </p><dl class="section return"><dt>Returns</dt><dd>void</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="dir_c8c4b843389cbcdb9f579b48d06636fb.html">I2CDemo</a></li><li class="navelem"><a class="el" href="_i2_c_demo_8ino.html">I2CDemo.ino</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
